{
    "name": "app/src/main/res/layout/activity_login.xml",
    "content": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#d5efebe9\"\n    android:orientation=\"vertical\"\n    android:theme=\"@style/MyTheme\"\n    tools:context=\"app.infiniverse.grocery.LoginActivity\">\n\n    <LinearLayout\n        android:id=\"@+id/linearLayout3\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"150sp\"\n        android:background=\"@drawable/background\"\n        android:gravity=\"center\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.0\">\n\n        <TextView\n            android:id=\"@+id/textView2\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Login\"\n            android:textColor=\"@color/partial_transparent\"\n            android:textSize=\"30sp\"\n            android:textStyle=\"bold\" />\n    </LinearLayout>\n\n    <android.support.v7.widget.CardView\n        android:id=\"@+id/cardView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"249dp\"\n        android:layout_margin=\"20dp\"\n        android:layout_marginBottom=\"8dp\"\n        app:cardBackgroundColor=\"@color/black_trans80\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintBottom_toTopOf=\"@+id/linearLayout4\"\n        app:layout_constraintEnd_toEndOf=\"@+id/forget\"\n        app:layout_constraintHorizontal_bias=\"0.49\"\n        app:layout_constraintStart_toStartOf=\"@+id/forget\"\n        app:layout_constraintTop_toBottomOf=\"@+id/linearLayout3\"\n        app:layout_constraintVertical_bias=\"0.0\">\n\n        <LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:background=\"#fafafa\"\n            android:orientation=\"vertical\">\n\n\n            <android.support.design.widget.TextInputLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginEnd=\"40dp\"\n                android:layout_marginStart=\"40dp\"\n                android:layout_marginTop=\"28dp\">\n\n                <EditText\n                    android:id=\"@+id/loginid\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:drawablePadding=\"5sp\"\n                    android:drawableStart=\"@drawable/ic_email_black\"\n                    android:hint=\" Email\"\n                    android:imeOptions=\"actionUnspecified\"\n                    android:maxLines=\"1\"\n                    android:singleLine=\"true\"\n                    android:textColor=\"@color/blue_grey\" />\n\n            </android.support.design.widget.TextInputLayout>\n\n\n            <android.support.design.widget.TextInputLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginEnd=\"40dp\"\n                android:layout_marginStart=\"40dp\"\n                android:layout_marginTop=\"0dp\">\n\n                <EditText\n                    android:id=\"@+id/password\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:drawablePadding=\"5sp\"\n                    android:drawableStart=\"@drawable/ic_person_black\"\n                    android:hint=\" Password\"\n                    android:imeOptions=\"actionUnspecified\"\n                    android:inputType=\"textPassword\"\n                    android:maxLines=\"1\"\n                    android:singleLine=\"true\"\n                    android:textColor=\"@color/blue_grey\" />\n            </android.support.design.widget.TextInputLayout>\n\n            <Button\n                android:id=\"@+id/login\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"end\"\n                android:layout_margin=\"25sp\"\n                android:background=\"@drawable/btn_background\"\n                android:text=\"Sign In\"\n                android:textColor=\"@color/color_black_light\"\n                android:textStyle=\"bold\" />\n\n        </LinearLayout>\n    </android.support.v7.widget.CardView>\n\n    <TextView\n        android:id=\"@+id/forget\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"24dp\"\n        android:layout_marginStart=\"8dp\"\n        android:text=\"Forget Password? Click Here\"\n        android:textAlignment=\"textEnd\"\n        android:textColor=\"@color/blue_grey\"\n        android:textSize=\"15dp\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.32\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/cardView\" />\n\n    <LinearLayout\n        android:id=\"@+id/linearLayout4\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@color/black_trans80\"\n        android:gravity=\"bottom|center\"\n        android:orientation=\"horizontal\"\n        android:padding=\"20sp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"parent\"\n        app:layout_constraintVertical_bias=\"1.0\">\n\n\n        <TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:gravity=\"bottom\"\n            android:text=\"Don't have an Account? \"\n            android:textColor=\"@color/blue_grey\"\n            android:textSize=\"15sp\" />\n\n        <TextView\n            android:id=\"@+id/signup\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"match_parent\"\n            android:clickable=\"true\"\n            android:focusable=\"true\"\n            android:gravity=\"bottom\"\n            android:text=\"SignUp\"\n            android:textColor=\"@color/blue_grey\"\n            android:textSize=\"15sp\"\n            android:textStyle=\"bold\" />\n    </LinearLayout>\n</android.support.constraint.ConstraintLayout>\n",
    "java": "package app.infiniverse.grocery;\n\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.support.v7.app.AlertDialog;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport org.json.JSONArray;\nimport org.json.JSONObject;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.OutputStreamWriter;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.net.URLEncoder;\n\npublic class LoginActivity extends AppCompatActivity {\n\n    public static final String PREFS = \"PREFS\";\n    EditText etLogin_id, etPassword;\n    Button btnLogin;\n    String login_id, password;\n    TextView signup, forget;\n    SharedPreferences sp;\n    SharedPreferences.Editor edit;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login);\n\n        sp = getApplicationContext().getSharedPreferences(PREFS, MODE_PRIVATE);\n        edit = sp.edit();\n\n        signup = findViewById(R.id.signup);\n        etLogin_id = findViewById(R.id.loginid);\n        etPassword = findViewById(R.id.password);\n        btnLogin = findViewById(R.id.login);\n        forget = findViewById(R.id.forget);\n        btnLogin.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                login();\n            }\n        });\n        signup.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Intent intent = new Intent(getApplicationContext(), RegisterActivity.class);\n                startActivity(intent);\n                finish();\n            }\n        });\n        forget.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                Intent intent = new Intent(getApplicationContext(), ForgetActivity.class);\n                startActivity(intent);\n                finish();\n            }\n        });\n//        // 模拟成功登录\n//        edit.putString(\"loginid\", \"test@example.com\");\n//        edit.putString(\"name\", \"Test User\");\n//        edit.putString(\"mobile\", \"1234567890\");\n//        edit.putString(\"city\", \"Test City\");\n//        edit.putString(\"locality\", \"Test Locality\");\n//        edit.putString(\"address\", \"Test Address\");\n//        edit.putString(\"c_dt\", \"2023-10-01\");\n//        edit.apply();\n//\n//        // 启动 StartActivity\n//        Intent i = new Intent(LoginActivity.this, StartActivity.class);\n//        startActivity(i);\n//        Toast.makeText(LoginActivity.this, \"Login Successful\", Toast.LENGTH_SHORT).show();\n//        finish();\n    }\n\n    public void login() {\n        login_id = etLogin_id.getText().toString();\n        password = etPassword.getText().toString();\n        if ((!login_id.equals(\"\")) && (!password.equals(\"\"))) {\n            class LoginUser extends AsyncTask<String, Void, String> {\n\n                @Override\n                protected void onPreExecute() {\n                    super.onPreExecute();\n                }\n\n                @Override\n                protected void onPostExecute(String s) {\n                    super.onPostExecute(s);\n                    if (s.trim().equals(\"INLOGIN\")) {\n                        AlertDialog.Builder builder = new AlertDialog.Builder(LoginActivity.this);\n                        builder.setTitle(\"Login Status\")\n                                .setMessage(\"Invalid Login\");\n                        builder.show();\n                    } else {\n\n                        try {\n                            JSONArray clientDetailArray = new JSONArray(s);\n                            JSONObject json_data = new JSONObject();\n                            json_data = clientDetailArray.getJSONObject(0);\n\n\n                            edit.putString(\"loginid\", json_data.getString(\"email\"));\n                            edit.putString(\"name\", json_data.getString(\"name\"));\n                            edit.putString(\"mobile\", json_data.getString(\"mobile\"));\n                            edit.putString(\"city\", json_data.getString(\"city\"));\n                            edit.putString(\"locality\", json_data.getString(\"locality\"));\n                            edit.putString(\"address\", json_data.getString(\"address\"));\n                            edit.putString(\"c_dt\", json_data.getString(\"c_dt\"));\n                            edit.apply();\n                            Intent i = new Intent(LoginActivity.this, StartActivity.class);\n                            startActivity(i);\n                            Toast.makeText(LoginActivity.this, \"Login Successful\", Toast.LENGTH_SHORT).show();\n                            finish();\n                        } catch (Exception e) {\n                            Toast.makeText(LoginActivity.this, \"Invalid Login\"\n                                    , Toast.LENGTH_SHORT).show();\n                        }\n                    }\n\n                }\n\n                @Override\n                protected String doInBackground(String... params) {\n\n                    String urls = getResources().getString(R.string.base_url).concat(\"login_user/\");\n                    try {\n                        URL url = new URL(urls);\n                        HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n                        httpURLConnection.setRequestMethod(\"POST\");\n                        httpURLConnection.setDoInput(true);\n                        httpURLConnection.setDoOutput(true);\n                        OutputStream outputStream = httpURLConnection.getOutputStream();\n                        BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(outputStream, \"UTF-8\"));\n                        String post_Data = URLEncoder.encode(\"login_id\", \"UTF-8\") + \"=\" + URLEncoder.encode(params[0], \"UTF-8\") + \"&\" +\n                                URLEncoder.encode(\"password\", \"UTF-8\") + \"=\" + URLEncoder.encode(params[1], \"UTF-8\");\n\n                        bufferedWriter.write(post_Data);\n                        bufferedWriter.flush();\n                        bufferedWriter.close();\n                        outputStream.close();\n                        InputStream inputStream = httpURLConnection.getInputStream();\n                        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream, \"UTF-8\"));\n                        String result = \"\", line = \"\";\n                        while ((line = bufferedReader.readLine()) != null) {\n                            result += line;\n                        }\n                        return result;\n                    } catch (Exception e) {\n                        return e.toString();\n                    }\n                }\n            }\n\n            //creating asynctask object and executing it\n            LoginUser loginUsrObj = new LoginUser();\n            loginUsrObj.execute(login_id, password);\n        } else {\n            Toast.makeText(this, \"All Fields Are Mandatory\", Toast.LENGTH_SHORT).show();\n        }\n    }\n}",
    "contains": [],
    "mock_data": {},
    "source": "GoGrocery",
    "time": 52.948124408721924,
    "result": {
        "harmony_component_code": "Column() {\n  Stack() {\n    Image($r('app.media.background'))\n      .width('100%')\n      .height('150vp')\n      .objectFit(ImageFit.Cover)\n    Text('Login')\n      .fontSize(30)\n      .fontWeight(FontWeight.Bold)\n      .fontColor(Color.PartialTransparent)\n      .align(Alignment.Center)\n  }\n  .width('100%')\n  .height('150vp')\n  .backgroundColor($r('app.color.black_trans80'))\n  .margin({ top: '20vp', bottom: '20vp', start: '20vp', end: '20vp' })\n  .padding({ top: '28vp', start: '40vp', end: '40vp' })\n  Column() {\n    TextInput()\n      .width('100%')\n      .height('auto')\n      .placeholder('Email')\n      .prefixIcon($r('app.media.ic_email_black'))\n      .placeholderColor($r('app.color.blue_grey'))\n    TextInput()\n      .width('100%')\n      .height('auto')\n      .placeholder('Password')\n      .prefixIcon($r('app.media.ic_person_black'))\n      .placeholderColor($r('app.color.blue_grey'))\n      .type(InputType.Password)\n    Button('Sign In')\n      .width('auto')\n      .height('auto')\n      .margin({ top: '25vp', bottom: '25vp', start: '25vp', end: '25vp' })\n      .backgroundColor($r('app.color.color_black_light'))\n      .fontColor($r('app.color.color_black_light'))\n      .fontWeight(FontWeight.Bold)\n  }\n  .width('100%')\n  .height('auto')\n  .backgroundColor($r('app.color.black_trans80'))\n  .padding(20)\n  Text('Forget Password? Click Here')\n    .width('100%')\n    .height('auto')\n    .fontSize(15)\n    .fontColor($r('app.color.blue_grey'))\n    .textAlign(TextAlign.End)\n    .margin({ start: '8vp', end: '24vp' })\n  Row() {\n    Text('Don\\'t have an Account? ')\n      .width('auto')\n      .height('auto')\n      .fontSize(15)\n      .fontColor($r('app.color.blue_grey'))\n    Text('SignUp')\n      .width('auto')\n      .height('auto')\n      .fontSize(15)\n      .fontColor($r('app.color.blue_grey'))\n      .fontWeight(FontWeight.Bold)\n  }\n  .width('100%')\n  .height('auto')\n  .backgroundColor($r('app.color.black_trans80'))\n  .padding(20)\n  .alignItems(VerticalAlign.Bottom)\n  .justifyContent(FlexAlign.Center)\n}\n.width('100%')\n.height('100%')\n.backgroundColor($r('app.color.d5efebe9'))"
    },
    "explanation": "1. 使用Column作为根布局，模拟ConstraintLayout的match_parent效果。\n2. 使用Stack组件来实现LinearLayout的背景图片和居中文字效果。\n3. 使用TextInput组件来实现EditText的输入框功能，并设置placeholder和prefixIcon。\n4. 使用Button组件来实现登录按钮，并设置背景颜色和字体颜色。\n5. 使用Text组件来实现忘记密码和注册文本，并设置字体大小和颜色。\n6. 使用Row组件来实现底部注册文本的布局，并设置对齐方式。\n7. 所有组件的宽度和高度根据安卓布局文件中的设置进行转译，使用'auto'表示wrap_content，使用'100%'表示match_parent。\n8. 所有颜色和图片资源使用$r('app.xxx.yyy')的形式进行引用。"
}