{
    "name": "app/src/main/res/layout/activity_login.xml",
    "content": "<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@color/bg_color\"\nandroid:orientation=\"vertical\"\nandroid:fitsSystemWindows=\"true\"\nandroid:clipToPadding=\"true\"\n>\n\n<com.enjoyshop.widget.EnjoyshopToolBar\nandroid:id=\"@id/toolbar\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:background=\"?attr/colorPrimary\"\nandroid:minHeight=\"?attr/actionBarSize\"\napp:title=\"用户登录\"\napp:isShowLeftIcon=\"true\"\n/>\n\n<LinearLayout\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_marginTop=\"40dp\"\nandroid:background=\"@drawable/selector_view_block\"\nandroid:orientation=\"vertical\"\nandroid:padding=\"@dimen/largePadding\"\n>\n\n<com.enjoyshop.widget.ClearEditText\nandroid:id=\"@+id/etxt_phone\"\nstyle=\"@style/editText_base\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:drawableLeft=\"@drawable/icon_telphone_32\"\nandroid:drawablePadding=\"20dp\"\nandroid:hint=\"请输入手机号码\"\nandroid:inputType=\"phone\"\n/>\n\n<View\nstyle=\"@style/line_vertical\"/>\n\n<com.enjoyshop.widget.ClearEditText\nandroid:id=\"@+id/etxt_pwd\"\nstyle=\"@style/editText_base\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:drawableLeft=\"@drawable/icon_lock\"\nandroid:drawablePadding=\"20dp\"\nandroid:hint=\"请输入登录密码\"\nandroid:inputType=\"textPassword\"\n/>\n</LinearLayout>\n\n<Button\nandroid:id=\"@+id/btn_login\"\nstyle=\"@style/bigConfirmButton\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_margin=\"20dp\"\nandroid:layout_marginTop=\"30dp\"\nandroid:text=\"登 录\"\n/>\n\n<LinearLayout\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_gravity=\"bottom\"\nandroid:gravity=\"center_vertical\"\nandroid:orientation=\"horizontal\"\nandroid:padding=\"@dimen/largePadding\"\n>\n\n<TextView\nandroid:id=\"@+id/txt_toReg\"\nandroid:layout_width=\"0dp\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_weight=\"1\"\nandroid:text=\"注册账号\"\nandroid:textColor=\"@color/blue\"\nandroid:textSize=\"14sp\"\nandroid:paddingTop=\"6dp\"\nandroid:paddingBottom=\"6dp\"\n/>\n\n<TextView\nandroid:layout_width=\"0dp\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_weight=\"1\"\nandroid:gravity=\"right\"\nandroid:text=\"忘记密码\"\nandroid:textColor=\"@color/blue\"\nandroid:textSize=\"14sp\"\nandroid:paddingTop=\"6dp\"\nandroid:paddingBottom=\"6dp\"\n/>\n</LinearLayout>\n\n</LinearLayout>",
    "java": "package com.enjoyshop.activity;\n\nimport android.content.Intent;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.TextView;\n\nimport com.enjoyshop.EnjoyshopApplication;\nimport com.enjoyshop.R;\nimport com.enjoyshop.data.DataManager;\nimport com.enjoyshop.data.dao.User;\nimport com.enjoyshop.utils.StringUtils;\nimport com.enjoyshop.utils.ToastUtils;\nimport com.enjoyshop.widget.ClearEditText;\nimport com.enjoyshop.widget.EnjoyshopToolBar;\n\nimport java.util.List;\n\nimport butterknife.BindView;\nimport butterknife.OnClick;\n\npublic class LoginActivity extends BaseActivity {\n\n    @BindView(R.id.toolbar)\n    EnjoyshopToolBar mToolBar;\n    @BindView(R.id.etxt_phone)\n    ClearEditText    mEtxtPhone;\n    @BindView(R.id.etxt_pwd)\n    ClearEditText    mEtxtPwd;\n    @BindView(R.id.txt_toReg)\n    TextView         mTxtToReg;\n\n    private String imageUrl = \"https://timgsa.baidu\" +\n            \".com/timg?image&quality=80&size=b9999_10000&sec=1535017475541&di\" +\n            \"=a5e08ea47bc24083efd75c547b8fc083&imgtype=0&src=http%3A%2F%2Fbos.pgzs\" +\n            \".com%2Frbpiczy%2FWallpaper%2F2013%2F10%2F8%2F8ad17e66b69046af812665a0e24ce862.jpg\";\n\n    @Override\n    protected void init() {\n        initToolBar();\n    }\n\n    @Override\n    protected int getContentResourseId() {\n        return R.layout.activity_login;\n    }\n\n    private void initToolBar() {\n\n        mToolBar.setNavigationOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                LoginActivity.this.finish();\n            }\n        });\n    }\n\n\n    @OnClick({R.id.btn_login, R.id.txt_toReg})\n    public void viewclick(View view) {\n        switch (view.getId()) {\n            case R.id.btn_login:\n                login();   //登录\n                break;\n            case R.id.txt_toReg:\n                Intent intent = new Intent(this, RegActivity.class);\n                startActivity(intent);\n                break;\n        }\n    }\n\n    /**\n     * 登录\n     * 注意注意.商业项目是直接请求登录接口.这次是对数据库进行操作\n     */\n    private void login() {\n\n        String phone = mEtxtPhone.getText().toString().trim();\n        if (TextUtils.isEmpty(phone)) {\n            ToastUtils.showSafeToast(LoginActivity.this, \"请输入手机号码\");\n            return;\n        }\n\n        if (!StringUtils.isMobileNum(phone)) {\n            ToastUtils.showSafeToast(LoginActivity.this, \"请核对手机号码\");\n            return;\n        }\n\n        String pwd = mEtxtPwd.getText().toString().trim();\n        if (TextUtils.isEmpty(pwd)) {\n            ToastUtils.showSafeToast(LoginActivity.this, \"请输入密码\");\n            return;\n        }\n\n        loginlogic(phone, pwd);\n\n\n        /**\n         * 真实的项目这里很有可能需要对密码进行加密.基本完成代码如下\n         */\n        /********开始********************/\n        //        Map<String, String> params = new HashMap<>();\n        //        params.put(\"phone\", phone);\n        //        params.put(\"password\", pwd);\n        //\n        //        OkHttpUtils.post().url(HttpContants.LOGIN).params(params).build().execute(new\n        // Callback<LoginRespMsg<User>>() {\n        //            @Override\n        //            public LoginRespMsg<User> parseNetworkResponse(Response response, int id)\n        // throws\n        //                    Exception {\n        //\n        //                String string = response.body().string();\n        //                LoginRespMsg loginRespMsg = new Gson().fromJson(string, LoginRespMsg\n        // .class);\n        //                return loginRespMsg;\n        //\n        //            }\n        //\n        //            @Override\n        //            public void onError(Call call, Exception e, int id) {\n        //            }\n        //\n        //            @Override\n        //            public void onResponse(LoginRespMsg<User> response, int id) {\n        //\n        //                EnjoyshopApplication application = EnjoyshopApplication.getInstance();\n        //                application.putUser(response.getData(), response.getToken());\n        //                if (application.getIntent()==null) {\n        //                    setResult(RESULT_OK);\n        //                    finish();\n        //                }else {\n        //                    application.jumpToTargetActivity(LoginActivity.this);\n        //                    finish();\n        //                }\n        //\n        //            }\n        //        });\n\n        /********结束********************/\n    }\n\n    private void loginlogic(String phone, String pwd) {\n\n        List<User> mUserDataList = DataManager.queryUser(phone);\n        if (mUserDataList != null && mUserDataList.size() > 0) {\n\n            String netPwd = mUserDataList.get(0).getPwd();\n            Long netUserId = mUserDataList.get(0).getUserId();\n\n            if (pwd.equals(netPwd)) {\n                ToastUtils.showSafeToast(LoginActivity.this, \"登录成功\");\n                EnjoyshopApplication application = EnjoyshopApplication.getInstance();\n\n                com.enjoyshop.bean.User user = new com.enjoyshop.bean.User();\n                user.setMobi(phone);\n                user.setUsername(\"非洲小白脸\");\n                user.setId(netUserId);\n                user.setLogo_url(imageUrl);\n\n                application.putUser(user, \"12345678asfghdssa\");\n                finish();\n\n//                if (application.getIntent() == null) {\n//                    setResult(RESULT_OK);\n//                    finish();\n//                } else {\n//                    startActivity(new Intent(LoginActivity.this, MainActivity.class));\n//                    finish();\n//                }\n            } else {\n                ToastUtils.showSafeToast(LoginActivity.this, \"密码不准确\");\n            }\n        } else {\n            ToastUtils.showSafeToast(LoginActivity.this, \"用户不存在\");\n        }\n\n    }\n\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        finish();\n    }\n\n}\n",
    "contains": [],
    "source": "enjoyshop",
    "time": 51.56138253211975,
    "result": {
        "harmony_component_code": "Column() {\n  EnjoyshopToolBar()\n    .id('toolbar')\n    .width('100%')\n    .height('auto')\n    .backgroundColor(Color.Primary)\n    .minHeight(this.actionBarSize)\n    .title('用户登录')\n    .isShowLeftIcon(true)\n\n  Column() {\n    ClearEditText()\n      .id('etxt_phone')\n      .width('100%')\n      .height('auto')\n      .drawableLeft($r('app.media.icon_telphone_32'))\n      .drawablePadding('20vp')\n      .hint('请输入手机号码')\n      .inputType(InputType.Phone)\n\n    View()\n      .width('100%')\n      .height('1vp')\n      .backgroundColor(Color.Gray)\n\n    ClearEditText()\n      .id('etxt_pwd')\n      .width('100%')\n      .height('auto')\n      .drawableLeft($r('app.media.icon_lock'))\n      .drawablePadding('20vp')\n      .hint('请输入登录密码')\n      .inputType(InputType.Password)\n  }\n  .width('100%')\n  .height('auto')\n  .marginTop('40vp')\n  .backgroundColor($r('app.color.selector_view_block'))\n  .padding($r('app.dimen.largePadding'))\n\n  Button()\n    .id('btn_login')\n    .width('100%')\n    .height('auto')\n    .margin({ top: '30vp', left: '20vp', right: '20vp', bottom: '20vp' })\n    .text('登 录')\n\n  Row() {\n    Text('注册账号')\n      .id('txt_toReg')\n      .width('50%')\n      .height('auto')\n      .textAlign(TextAlign.Start)\n      .fontSize('14fp')\n      .padding({ top: '6vp', bottom: '6vp' })\n      .textColor($r('app.color.blue'))\n\n    Text('忘记密码')\n      .width('50%')\n      .height('auto')\n      .textAlign(TextAlign.End)\n      .fontSize('14fp')\n      .padding({ top: '6vp', bottom: '6vp' })\n      .textColor($r('app.color.blue'))\n  }\n  .width('100%')\n  .height('auto')\n  .alignItems(VerticalAlign.Center)\n  .padding($r('app.dimen.largePadding'))\n}\n.width('100%')\n.height('100%')\n.backgroundColor($r('app.color.bg_color'))\n.clipToBounds(true)\n.fitSystemWindows(true)"
    },
    "explanation": "1. 使用Column作为根布局，对应安卓的LinearLayout，设置宽度和高度为100%以匹配父容器。\n2. 使用EnjoyshopToolBar组件对应安卓的com.enjoyshop.widget.EnjoyshopToolBar，设置其属性如宽度、高度、背景色、最小高度、标题和左侧图标显示。\n3. 使用Column嵌套组件来实现垂直布局，对应安卓的LinearLayout，设置其宽度和高度、边距、背景色和内边距。\n4. 使用ClearEditText组件对应安卓的com.enjoyshop.widget.ClearEditText，设置其属性如宽度、高度、左侧图标、图标间距、提示文本和输入类型。\n5. 使用View组件对应安卓的View，设置其宽度和高度、背景色以实现分割线效果。\n6. 使用Button组件对应安卓的Button，设置其属性如宽度、高度、边距和文本。\n7. 使用Row组件对应安卓的LinearLayout，设置其宽度和高度、对齐方式和内边距。\n8. 使用Text组件对应安卓的TextView，设置其属性如宽度、高度、文本对齐方式、字体大小、内边距和文本颜色。"
}