{
    "name": "app/src/main/res/layout/fragment_main.xml",
    "content": "<LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:orientation=\"vertical\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainFragment\"\n    android:background=\"@drawable/nav_header_bg\">\n\n    <ImageView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"16dp\"\n        android:layout_marginStart=\"16dp\"\n        android:id=\"@+id/back\"\n        android:clickable=\"true\"\n        android:background=\"@drawable/ic_arrow_back_black\"\n        android:focusable=\"true\" />\n    <include layout=\"@layout/profile\"/>\n\n</LinearLayout>",
    "java": "package app.infiniverse.grocery;\n\n\nimport android.app.Fragment;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.AsyncTask;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.OutputStreamWriter;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.net.URLEncoder;\n\n\n/**\n * A simple {@link Fragment} subclass.\n */\npublic class MainFragment extends Fragment {\n\n\n    TextView tvName, tvEmail, tvMob, tvAddress;\n    Button btnChangePSW, btnChangeDetails;\n    Context context;\n    public static final String PREFS = \"PREFS\";\n    SharedPreferences sp;\n    public MainFragment(Context context) {\n        // Required empty public constructor\n        this.context=context;\n        sp = context.getSharedPreferences(PREFS, Context.MODE_PRIVATE);\n    }\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, final ViewGroup container, Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_main, container, false);\n\n        ImageView back = view.findViewById(R.id.back);\n        tvName = view.findViewById(R.id.tvName);\n        tvEmail = view.findViewById(R.id.tvEmail);\n        tvMob = view.findViewById(R.id.tvMob);\n        tvAddress = view.findViewById(R.id.tvAddress);\n        btnChangePSW = view.findViewById(R.id.btnChangePSW);\n        btnChangeDetails = view.findViewById(R.id.btnChangeDetails);\n\n\n        back.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                getActivity().finish();\n            }\n        });\n\n        btnChangePSW.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent i=new Intent(context,ChangePassword.class);\n                startActivity(i);\n            }\n        });\n\n        btnChangeDetails.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent i=new Intent(context,ChangeClientDetail.class);\n                startActivity(i);\n                getActivity().finish();\n            }\n        });\n\n        View photoHeader = view.findViewById(R.id.photoHeader);\n\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {\n        /* For devices equal or higher than lollipop set the translation above everything else */\n            photoHeader.setTranslationZ(6);\n        /* Redraw the view to show the translation */\n            photoHeader.invalidate();\n        }\n\n        ProductDetail productDetail = new ProductDetail();\n        productDetail.execute(sp.getString(\"loginid\",null));\n\n        return view;\n    }\n\n    class ProductDetail extends AsyncTask<String, Void, String> {\n        @Override\n        protected String doInBackground(String... params) {\n            String clientDetailUrl = getResources().getString(R.string.base_url) + \"getClientDetails/\";\n\n\n            try {\n                URL url = new URL(clientDetailUrl);\n                HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n                httpURLConnection.setRequestMethod(\"POST\");\n                httpURLConnection.setDoInput(true);\n                httpURLConnection.setDoOutput(true);\n                OutputStream outputStream = httpURLConnection.getOutputStream();\n                BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(outputStream, \"UTF-8\"));\n                String post_Data = URLEncoder.encode(\"login_id\", \"UTF-8\") + \"=\" + URLEncoder.encode(params[0], \"UTF-8\");\n\n                bufferedWriter.write(post_Data);\n                bufferedWriter.flush();\n                bufferedWriter.close();\n                outputStream.close();\n                InputStream inputStream = httpURLConnection.getInputStream();\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream, \"UTF-8\"));\n                String result = \"\", line = \"\";\n                while ((line = bufferedReader.readLine()) != null) {\n                    result += line;\n                }\n                return result;\n            } catch (Exception e) {\n                return e.toString();\n            }\n        }\n\n        @Override\n        protected void onPostExecute(String s) {\n            super.onPostExecute(s);\n\n            try {\n\n\n                JSONArray clientDetailArray = new JSONArray(s);\n                JSONObject json_data = new JSONObject();\n                json_data = clientDetailArray.getJSONObject(0);\n\n                    tvName.setText(json_data.getString(\"name\"));\n                    tvEmail.setText(json_data.getString(\"email\"));\n                    tvMob.setText(json_data.getString(\"mobile\"));\n                    tvAddress.setText(json_data.getString(\"address\"));\n\n\n            } catch (JSONException e) {\n                Toast.makeText(context, \"No Internet Connection\", Toast.LENGTH_SHORT).show();\n            }\n\n        }\n\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n        }\n\n\n    }\n\n\n}\n",
    "contains": [
        "app/src/main/res/layout/profile.xml"
    ],
    "mock_data": {},
    "source": "GoGrocery",
    "time": 18.55389666557312,
    "result": {
        "harmony_component_code": "Column() {\n  Image($r('app.media.ic_arrow_back_black'))\n    .width('auto')\n    .height('auto')\n    .margin({ top: '16vp', start: '16vp' })\n    .id('back')\n    .objectFit(ImageFit.Contain)\n    .onClick(() => {\n      // Handle click event\n    })\n  Include($r('app.profile'))\n}\n.width('100%')\n.height('100%')\n.backgroundColor($r('app.media.nav_header_bg'))"
    },
    "explanation": "1. 使用Column组件作为根容器，对应安卓的LinearLayout，并设置其宽度和高度为100%以匹配父组件。\n2. 将ImageView转译为Image组件，并设置其资源为$r('app.media.ic_arrow_back_black')，宽度和高度为auto以自适应内容，设置margin为16vp和16vp以对应安卓的marginTop和marginStart，设置id为'back'，并添加onClick事件处理点击。\n3. 使用Include组件引入另一个布局文件，对应安卓的<include layout=\"@layout/profile\"/>。\n4. 设置根容器的背景颜色为$r('app.media.nav_header_bg')，对应安卓的android:background=\"@drawable/nav_header_bg\"。"
}