/*\n实现一个带有底部TabBar的页面组件，支持切换不同的Tab内容，并显示当前Tab的索引和点击次数。\n*/\n\n// 导入必要的模块和组件\nimport { AtomicServiceTabs, TabBarOptions, TabBarPosition, OnContentWillChangeCallback } from '@kit.ArkUI';\n\n@Entry\n@Component\nstruct Index {\n  // 定义状态变量，用于存储页面的标题\n  @State message: string = '首页';\n  // 定义状态变量，用于存储Tab点击次数\n  @State onClickNumber: number = 0;\n  // 定义状态变量，用于存储当前Tab的索引\n  @State currentIndex: number = 0;\n  // 定义状态变量，用于存储即将切换到的Tab的索引\n  @State comingIndex: number = 0;\n\n  // 定义回调函数，当Tab内容即将切换时触发\n  onContentWillChangeCallBack: OnContentWillChangeCallback = (currentIndex: number, comingIndex: number): boolean => {\n    // 更新当前Tab的索引和即将切换到的Tab的索引\n    this.currentIndex = currentIndex;\n    this.comingIndex = comingIndex;\n    console.log('OnContentWillChangeCallback');\n    // 返回true表示允许切换\n    return true;\n  }\n\n  // 定义回调函数，当Tab被点击时触发\n  onTabClick: Callback<number> = (index: number) => {\n    // 增加Tab点击次数\n    this.onClickNumber++;\n    console.log('onTabClick');\n  }\n\n  // 定义Tab内容1的构建器\n  @Builder\n  tabContent1() {\n    Column()\n      .width('100%')\n      .height('100%')\n      .alignItems(HorizontalAlign.Center)\n      .backgroundColor('#00CB87') // 设置背景颜色为绿色\n  }\n\n  // 定义Tab内容2的构建器\n  @Builder\n  tabContent2() {\n    Column()\n      .width('100%')\n      .height('100%')\n      .backgroundColor('#007DFF') // 设置背景颜色为蓝色\n  }\n\n  // 定义Tab内容3的构建器\n  @Builder\n  tabContent3() {\n    Column()\n      .width('100%')\n      .height('100%')\n      .backgroundColor('#FFBF00') // 设置背景颜色为黄色\n  }\n\n  // 构建页面的UI结构\n  build() {\n    Stack() {\n      // 使用AtomicServiceTabs组件创建TabBar和Tab内容\n      AtomicServiceTabs({\n        tabContents: [\n          () => {\n            this.tabContent1() // 第一个Tab的内容\n          },\n          () => {\n            this.tabContent2() // 第二个Tab的内容\n          },\n          () => {\n            this.tabContent3() // 第三个Tab的内容\n          }\n        ],\n        tabBarOptionsArray: [\n          new TabBarOptions($r('sys.media.ohos_ic_public_phone'), '绿色', Color.Black, Color.Blue), // 第一个Tab的选项\n          new TabBarOptions($r('sys.media.ohos_ic_public_location'), '蓝色', Color.Black, Color.Blue), // 第二个Tab的选项\n          new TabBarOptions($r('sys.media.ohos_ic_public_more'), '黄色', Color.Black, Color.Blue) // 第三个Tab的选项\n        ],\n        tabBarPosition: TabBarPosition.BOTTOM, // 设置TabBar的位置为底部\n        barBackgroundColor: $r('sys.color.ohos_id_color_bottom_tab_bg'), // 设置TabBar的背景颜色\n        onTabBarClick: this.onTabClick, // 设置Tab点击事件的回调函数\n        onContentWillChange: this.onContentWillChangeCallBack // 设置Tab内容切换前的回调函数\n      })\n\n      // 显示当前Tab的索引和点击次数\n      Column() {\n        Text("onchange回调次数:" + this.onClickNumber)\n        Text("comingIndex = " + this.comingIndex + ", currentIndex = " + this.currentIndex)\n      }\n      .margin({ top: 500 }) // 设置顶部边距\n    }\n    .height('100%') // 设置高度为100%\n  }\n}